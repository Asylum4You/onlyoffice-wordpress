(()=>{"use strict";var e={d:(t,n)=>{for(var l in n)e.o(n,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:n[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{l:()=>c,i:()=>d});const t=window.React,n=window.wp.blocks,l=JSON.parse('{"u2":"onlyoffice-wordpress/onlyoffice"}'),o=window.wp.blockEditor,i=window.wp.components,a=window.wp.i18n,r=window.wp.element,c={height:"500px",background:"#a2ccef"},d=(0,t.createElement)("svg",{width:"66",height:"60",viewBox:"0 0 66 60",fill:"black",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)("path",{opacity:"0.5",fillRule:"evenodd",clipRule:"evenodd",d:"M28.9406 59.2644L2.20792 46.9066C-0.0693069 45.8277 -0.0693069 44.1604 2.20792 43.1796L11.5148 38.8642L28.8416 46.9066C31.1188 47.9854 34.7822 47.9854 36.9604 46.9066L54.2871 38.8642L63.5941 43.1796C65.8713 44.2585 65.8713 45.9258 63.5941 46.9066L36.8614 59.2644C34.7822 60.2452 31.1188 60.2452 28.9406 59.2644Z",fill:"black"}),(0,t.createElement)("path",{opacity:"0.75",fillRule:"evenodd",clipRule:"evenodd",d:"M28.9406 44.0606L2.20792 31.7028C-0.069307 30.6239 -0.069307 28.9566 2.20792 27.9758L11.3168 23.7584L28.9406 31.8989C31.2178 32.9778 34.8812 32.9778 37.0594 31.8989L54.6832 23.7584L63.7921 27.9758C66.0693 29.0547 66.0693 30.722 63.7921 31.7028L37.0594 44.0606C34.7822 45.1395 31.1188 45.1395 28.9406 44.0606Z",fill:"black"}),(0,t.createElement)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M28.9406 29.2518L2.20792 16.8939C-0.069307 15.8151 -0.069307 14.1478 2.20792 13.167L28.9406 0.809144C31.2178 -0.269715 34.8812 -0.269715 37.0594 0.809144L63.7921 13.167C66.0693 14.2458 66.0693 15.9132 63.7921 16.8939L37.0594 29.2518C34.7822 30.2325 31.1188 30.2325 28.9406 29.2518Z",fill:"black"}));(0,n.registerBlockType)(l.u2,{icon:d,edit:({attributes:e,setAttributes:n})=>{const l=["core/bold","core/image","core/italic","core/strikethrough","core/text-color","core/code","core/keyboard","core/subscript","core/superscript"],r=oo_media.formats;let h=[];const p=[{label:(0,a.__)("Embedded","onlyoffice-plugin"),value:"embedded"},{label:(0,a.__)("Link"),value:"link"}];e.hasOwnProperty("width")&&e.width.length>0&&(c.width=e.width),e.hasOwnProperty("height")&&e.height.length>0&&(c.height=e.height);let w=!0;"full"===e.align&&(delete c.width,w=!1);const s=function(e){var t=oo_media.mimeTypes;if(void 0!==t[e])return t[e];for(var n in t)if(-1!==n.indexOf(e))return t[n];return!1};for(let e of r){let t=s(e);t&&h.push(t)}const u="link"===e.documentView?(0,o.useBlockProps)({style:null}):(0,o.useBlockProps)({style:c});return e.id?(0,t.createElement)("div",{...u},(0,t.createElement)(o.InspectorControls,{key:"setting"},(0,t.createElement)(i.PanelBody,{title:(0,a.__)("Settings")},(0,t.createElement)(i.__experimentalInputControl,{label:(0,a.__)("Name"),value:e.fileName,onChange:e=>n({fileName:e})}),(0,t.createElement)(i.SelectControl,{label:(0,a.__)("Document view","onlyoffice-plugin"),value:e.documentView,options:p,onChange:e=>{n({documentView:e})}}),"link"===e.documentView?(0,t.createElement)("div",null,(0,t.createElement)(i.ToggleControl,{checked:e.inNewTab,label:(0,a.__)("Open in new tab"),onChange:e=>n({inNewTab:e})}),(0,t.createElement)(i.ToggleControl,{checked:e.showOpenButton,label:(0,a.__)("Show Open in ONLYOFFICE button","onlyoffice-plugin"),onChange:e=>n({showOpenButton:e})})):(0,t.createElement)("div",null,w?(0,t.createElement)(o.HeightControl,{label:(0,a.__)("Width","onlyoffice-docspace-plugin"),value:e.width,onChange:e=>n({width:e})}):"",(0,t.createElement)(o.HeightControl,{label:(0,a.__)("Height","onlyoffice-docspace-plugin"),value:e.height,onChange:e=>n({height:e})})))),"link"===e.documentView?(0,t.createElement)("div",null,(0,t.createElement)(o.RichText,{tagName:"a",allowedFormats:l,onChange:e=>n({fileName:e}),value:e.fileName}),e.showOpenButton?(0,t.createElement)("div",{class:"wp-block-onlyoffice-wordpress-onlyoffice__button-richtext-wrapper"},(0,t.createElement)(o.RichText,{tagName:"div",className:"wp-element-button",value:e.openButtonText||(0,a.__)("Open in ONLYOFFICE","onlyoffice-plugin"),allowedFormats:l,onChange:e=>n({openButtonText:e}),placeholder:(0,a.__)("Add text...")})):""):(0,t.createElement)("p",{style:{display:"flex"}},d,(0,t.createElement)("p",{style:{marginLeft:"25px"}}," ",e.fileName||"")),(0,t.createElement)(o.BlockControls,{group:"other"},(0,t.createElement)(o.MediaReplaceFlow,{mediaId:e.id,allowedTypes:h,accept:h.join(),onSelect:e=>{e&&e.hasOwnProperty("id")&&n({id:e.id,fileName:e.filename||e.guid.raw.substring(e.guid.raw.lastIndexOf("/")+1)})},name:(0,a.__)("Replace")}))):(0,t.createElement)(o.MediaPlaceholder,{labels:{title:"ONLYOFFICE"},allowedTypes:h,accept:h.join(),onSelect:e=>{e&&e.hasOwnProperty("id")&&n({id:e.id,fileName:e.filename||e.guid.raw.substring(e.guid.raw.lastIndexOf("/")+1)})}})},save:({attributes:e})=>{if(!e.id)return"";let n="";return e.hasOwnProperty("id")&&(n+="id="+e.id+" "),e.hasOwnProperty("documentView")&&e.documentView.length>0&&(n+="documentView="+e.documentView+" "),e.hasOwnProperty("inNewTab")&&(n+="inNewTab="+e.inNewTab+" "),e.hasOwnProperty("align")&&e.align.length>0&&(n+="align="+e.align+" "),e.hasOwnProperty("width")&&e.width.length>0&&(n+="width="+e.width+" "),e.hasOwnProperty("height")&&e.height.length>0&&(n+="height="+e.height+" "),e.hasOwnProperty("showOpenButton")&&(n+="showOpenButton="+e.showOpenButton+" "),e.hasOwnProperty("openButtonText")&&e.openButtonText.length>0&&(n+="openButtonText="+e.openButtonText+" "),(0,t.createElement)(r.RawHTML,null,`[onlyoffice ${n} /]`)}})})();